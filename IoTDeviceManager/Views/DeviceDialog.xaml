<Window x:Class="IoTDeviceManager.Views.DeviceDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding DialogTitle}" Width="420" Height="280"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Background="#0f172a"
        AllowsTransparency="True"
        WindowStyle="None"
        Effect="{DynamicResource DialogShadow}">
	<Window.Resources>
		<!-- Colors -->
		<SolidColorBrush x:Key="Accent" Color="#22c55e"/>
		<SolidColorBrush x:Key="AccentDark" Color="#16a34a"/>
		<SolidColorBrush x:Key="Danger" Color="#ef4444"/>
		<SolidColorBrush x:Key="DangerDark" Color="#dc2626"/>
		<SolidColorBrush x:Key="Card" Color="#111827"/>
		<SolidColorBrush x:Key="CardBorder" Color="#1f2937"/>
		<SolidColorBrush x:Key="TextPrimary" Color="#e5e7eb"/>
		<SolidColorBrush x:Key="TextSecondary" Color="#9ca3af"/>

		<!-- Rounded button base -->
		<Style x:Key="DialogButton" TargetType="Button">
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Padding" Value="16,6"/>
			<Setter Property="Margin" Value="6,0,0,0"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border CornerRadius="10" Background="{TemplateBinding Background}">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter Property="Opacity" Value="0.9"/>
							</Trigger>
							<Trigger Property="IsEnabled" Value="False">
								<Setter Property="Opacity" Value="0.6"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</Window.Resources>

	<Border Background="{StaticResource Card}" CornerRadius="12"
            BorderBrush="{StaticResource CardBorder}" BorderThickness="1" Padding="20"
            Effect="{DynamicResource DialogShadow}">
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<!-- Title -->
			<TextBlock Text="{Binding DialogTitle}" FontSize="18" FontWeight="Bold"
                       Foreground="{StaticResource TextPrimary}" Margin="0,0,0,12"/>

			<!-- Form -->
			<StackPanel Grid.Row="1" Orientation="Vertical" Margin="0,0,0,20">
				<TextBlock Text="Device Name" Foreground="{StaticResource TextSecondary}" Margin="2,0,0,4"/>
				<TextBox x:Name="NameBox" Height="32"
                         Background="#1f2937" Foreground="White" BorderBrush="#374151"
                         Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}"/>

				<TextBlock Text="Device Type" Foreground="{StaticResource TextSecondary}" Margin="2,12,0,4"/>
				<TextBox Height="32"
                         Background="#1f2937" Foreground="White" BorderBrush="#374151"
                         Text="{Binding Type, UpdateSourceTrigger=PropertyChanged}"/>
			</StackPanel>

			<!-- Buttons -->
			<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
				<Button Content="Cancel" Width="120" Height="40" IsCancel="True"
                        Background="{StaticResource Danger}" Style="{StaticResource DialogButton}"/>
				<Button Content="Confirm" Width="120" Height="40" IsDefault="True"
                        Background="{StaticResource Accent}"
                        Click="OnConfirmClick"
                        Style="{StaticResource DialogButton}"/>
			</StackPanel>
		</Grid>
	</Border>
</Window>
